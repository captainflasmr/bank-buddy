#+title: Bank Buddy
#+author: James Dyer
#+email: captainflasmr@gmail.com
#+language: en
#+options: ':t toc:nil author:nil email:nil num:nil title:nil
#+todo: TODO DOING | DONE
#+startup: showall

*NOTE: THIS IS ALPHA SOFTWARE SO MAY BE A BIT ROUGH AROUND THE EDGES!*

* Bank-Buddy: Your Financial Analysis Companion for Emacs

Bank-buddy helps you analyze your banking transactions by automatically categorizing them, identifying spending patterns, and generating comprehensive reports in Org format.

* Features

- *Automated Transaction Categorization* - Uses regex patterns to categorize your spending
- *Comprehensive Reports* - Generates detailed financial reports in Org format
- *Subscription Detection* - Identifies recurring payments and estimates monthly subscription costs
- *Merchant Analysis* - Tracks your spending by merchant
- *Transaction Size Analysis* - Breaks down transactions by size categories
- *Monthly Spending Patterns* - Visualizes your spending over time

* Getting Started

** 1. Initial configuration

To potentially regenerate gnuplots

#+begin_src elisp
  (require 'ob-gnuplot)

  (defun my-org-babel-execute-on-open ()
    (when (eq major-mode 'org-mode)
      (org-babel-map-executables nil
        (when (org-babel-get-src-block-info)
          (let ((execute-on-open (cdr (assq :execute_on_open (nth 2 (org-babel-get-src-block-info))))))
            (when execute-on-open
              (org-babel-execute-src-block)))))))
  
    (add-hook 'org-mode-hook 'my-org-babel-execute-on-open)
#+end_src

** 2. Installation

*** Prerequisites

- Emacs 26.1 or later
- csv 0.5 or later
- gnuplot

*** MELPA

#+begin_src emacs-lisp
   (use-package bank-buddy)
#+end_src

*** Manual Installation

Clone this repository:

#+begin_src shell
git clone https://github.com/captainflasmr/bank-buddy.git
#+end_src

**** init.el

#+begin_src emacs-lisp
(add-to-list 'load-path "path/to/bank-buddy")
(require 'bank-buddy)
#+end_src

OR

#+begin_src elisp
 (use-package bank-buddy
   :load-path "path/to/bank-buddy")
#+end_src

** 2. *Generate a Report*:
   #+begin_src elisp
   ;; Interactive function to select input and output files
   M-x bank-buddy-generate-report
   
   ;; Or programmatically:
   (bank-buddy-generate-report "path/to/bank-statement.csv" "path/to/report.org")
   #+end_src

** 3. *Customization Options*:
   #+begin_src elisp
   ;; Exclude large transactions
   (setq bank-buddy-exclude-large-txns t)
   (setq bank-buddy-large-txn-threshold 10000)
   
   ;; Adjust subscription detection sensitivity
   (setq bank-buddy-subscription-min-occurrences 3)
   #+end_src

* Input Format

The package expects a CSV file with these columns:
1. Transaction date (YYYY-MM-DD)
2. Transaction description
3. Debit amount

* Roadmap                                                           :roadmap:

#+begin_src emacs-lisp :results table :exports results :tangle no
(my/kanban-to-table "roadmap" "issues")
#+end_src

#+RESULTS:
| TODO                                   | DOING              |
|----------------------------------------+--------------------|
| Better gnuplot autogeneration of plots | Data Visualization |
| Generate test data and unit test       |                    |
| Asynchronous operation                 |                    |
| Budget Tracking                        |                    |
| Custom Category Mapping                |                    |
| AI-Powered Categorization              |                    |

** TODO Better gnuplot autogeneration of plots

** TODO Generate test data and unit test

** TODO Asynchronous operation
The report especially on a thousand line csv can take some seconds

** DOING Data Visualization

Add interactive charts and graphs using Org-babel

** TODO Budget Tracking

Compare spending against budgeted amounts

** TODO Custom Category Mapping

Allow user-defined categories

** TODO AI-Powered Categorization

Use LLM to improve categorization accuracy
   
* Contributing

Contributions are welcome! Please:
1. Fork the repository
2. Create a feature branch
3. Commit your changes
4. Open a pull request

* License

[[https://opensource.org/licenses/MIT][MIT License]]

* Acknowledgments

- Emacs community for continuous inspiration
